<!DOCTYPE html>
<html lang="en" class="light">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Performance Report â€“ VERBALYSTIC</title>

  <!-- Tailwind -->
  <script src="https://cdn.tailwindcss.com?plugins=forms,typography"></script>

  <!-- Fonts & Icons -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet" />

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

  <script>
    tailwind.config = {
      darkMode: "class",
      theme: {
        extend: {
          colors: {
            primary: "#359EFF",
            "background-light": "#f5f7f8"
          },
          fontFamily: {
            display: ["Inter", "sans-serif"]
          }
        }
      }
    };
  </script>

  <style>
    body { font-family: Inter, sans-serif; }
    .material-icons-outlined { font-size: 20px; }
  </style>
</head>

<body class="bg-background-light text-gray-800">
<div class="flex min-h-screen">

  <!-- SIDEBAR (IDENTICAL TO MAIN) -->
  <aside class="w-64 bg-white p-6 flex flex-col justify-between rounded-r-2xl">

    <!-- TOP -->
    <div>
      <div class="flex items-center justify-between mb-10">
          <a href="index.html" class="flex items-center gap-3">
          <img
              src="image.jpg"
              alt="Verbalystic logo"
              class="w-9 h-9 rounded-lg object-cover"
          />
          <h1 class="text-xl font-bold text-gray-900">Verbalystic</h1>
          </a>
      </div>

      <!-- NAV -->
      <nav class="flex flex-col space-y-2">

        <a href="main.html"
          class="flex items-center gap-3 px-4 py-2 rounded-lg text-gray-600 hover:bg-gray-100">
          <span class="material-icons-outlined">add_circle_outline</span>
          <span class="font-medium">New Session</span>
        </a>

        

        <!-- ACTIVE -->
        <a href="report.html"
          class="flex items-center gap-3 px-4 py-2 rounded-lg bg-gray-100 text-gray-900">
          <span class="material-icons-outlined">bar_chart</span>
          <span class="font-medium">Report</span>
        </a>

        <a href="profile.html"
          class="flex items-center gap-3 px-4 py-2 rounded-lg text-gray-600 hover:bg-gray-100">
          <span class="material-icons-outlined">person_outline</span>
          <span class="font-medium">Profile</span>
        </a>

        <a href="setting.html"
          class="flex items-center gap-3 px-4 py-2 rounded-lg text-gray-600 hover:bg-gray-100">
          <span class="material-icons-outlined">settings</span>
          <span class="font-medium">Settings</span>
        </a>

      </nav>
    </div>

    <!-- USER SECTION (BOTTOM) -->
    <div class="flex items-center justify-between px-4 py-2">

        <!-- USER (AVATAR + NAME) -->
        <div class="flex items-center gap-3"href="profile.html">
            <img
                id="userImage"
                class="w-9 h-9 rounded-full object-cover"
                src="https://placehold.co/40"
                alt="User"
            />
            <span
                id="userName"
                class="text-sm font-medium text-gray-900"
            >
                User
            </span>
        </div>

        <!-- LOGOUT BUTTON -->
        <button
            id="logoutBtn"
            class="flex items-center justify-center w-9 h-9 rounded-lg
                text-red-600 hover:bg-red-50
                cursor-pointer"
            title="Logout"
        >
            <span class="material-icons-outlined">logout</span>
        </button>

    </div>

  </aside>

  <!-- MAIN CONTENT (UNCHANGED DESIGN) -->
  <main class="flex-1 p-8 overflow-y-auto">

    <!-- HEADER -->
    <div class="mb-8">
      <h1 class="text-4xl font-black tracking-tight">Your Performance Report</h1>
      <p class="text-gray-500 mt-2 text-lg">
        Here's a detailed breakdown of your latest session.
      </p>
    </div>

    <!-- PERFORMANCE CHART -->
    <div class="bg-white rounded-xl p-6 mb-8 shadow-sm">
      <h2 class="text-lg font-semibold">Overall Performance Trends</h2>
      <p class="text-sm text-gray-500">
        Comparison of key metrics over the last 7 sessions
      </p>

      <div class="mt-6 h-[300px]">
        <canvas id="performanceChart"></canvas>
      </div>
    </div>

    <!-- GRAMMAR + RANK -->
    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8">

      <div class="lg:col-span-2 bg-white rounded-xl p-6 shadow-sm">
        <h3 class="text-lg font-semibold mb-4">Grammar Errors</h3>
        <table class="w-full text-sm">
          <thead>
            <tr class="text-left text-gray-500 border-b">
              <th class="py-2">Incorrect Phrase</th>
              <th class="py-2">Suggested Correction</th>
              <th class="py-2">Count</th>
            </tr>
          </thead>
          <tbody id="grammarTable"></tbody>
        </table>
      </div>

      <div class="bg-white rounded-xl p-6 text-center shadow-sm">
        <h3 class="text-lg font-semibold">Rank & Streak</h3>
        <p class="mt-4 text-orange-500 font-bold" id="streakCount">0 Day Streak</p>
      </div>
    </div>

    <!-- TRANSCRIPTS -->
    <div class="bg-white rounded-xl p-6 mb-8 shadow-sm">
      <h3 class="text-lg font-semibold mb-4">Speech Transcript Analysis</h3>

      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h4 class="font-semibold text-gray-500 mb-2">Your Speech Transcript</h4>
          <div id="rawTranscript"
               class="h-64 overflow-y-auto border rounded-lg p-4 text-sm"></div>
        </div>

        <div>
          <h4 class="font-semibold text-primary mb-2">AI-Improved Version</h4>
          <div id="improvedTranscript"
               class="h-64 overflow-y-auto border border-primary/40 rounded-lg p-4 text-sm"></div>
        </div>
      </div>
    </div>

    <!-- TIPS -->
    <div class="mb-12">
      <h3 class="text-lg font-semibold mb-4">Tips & Exercises</h3>
      <div id="tipsContainer"
           class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6"></div>
    </div>

    <!-- SHARE -->
    <div class="flex justify-end">
      <button class="flex items-center gap-2 border-2 border-primary text-primary px-6 py-3 rounded-full hover:bg-primary/10">
        <span class="material-icons-outlined">share</span>
        Share Progress
      </button>
    </div>

  </main>
</div>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
<script src="supabaseClient.js"></script>

<script src="report.js"></script>

</body>
</html>
